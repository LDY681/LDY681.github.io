<!DOCTYPE html>
<html lang="zh">
<head>
<title>转世三国-模拟三国人生</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../css/w3.css">
<link rel="stylesheet" href="../css/all.css">
<link rel="stylesheet" href="../css/my-style.css">
<link rel="icon" href="../img/logo.png"/>
</head>

<!--countUp ->东汉年历，getCurrTime ->北京时间显示 setUpUserData ->userMenu的数据填充-->
<body onload="countUp('June 1, 2019 00:00:00');getCurrTime();">
<!--navSideBar placeholder-->
<div style="position: relative" id="nav-placeholder"></div>

<!-- 正文内容-->
<div id="customContent" style="margin-left:0" class="w3-row">

  <!-- 用户菜单 placeholder-->
  <div id="userMenu" class="coolScroll w3-col w3-light-gray w3-card-4 w3-center w3-round-xxlarge w3-margin-left w3-margin-right" style="margin-top: 80px; height: 90vh; position:fixed"></div>

  <!--TODO:右侧定制内容-->
  <div id="rightPanel" class="w3-rest w3-card-4 w3-round-xxlarge w3-margin-right" style="margin-top:80px;">
    <img src="../img/404.jpg" alt="404" style="width:100%">
    <img src="../img/404.jpg" alt="404" style="width:100%">
    <img src="../img/404.jpg" alt="404" style="width:100%">
    <img src="../img/404.jpg" alt="404" style="width:100%">
    <img src="../img/404.jpg" alt="404" style="width:100%">
    <img src="../img/404.jpg" alt="404" style="width:100%">
  </div><!--end of 训练界面-->

</div>

<!--end of navSideBar-->

<!--加载jquery-->
<script src="../js/jquery-3.4.1.min.js"></script>
<script>console.log("Jquery加载完毕")</script>
<script src="../js/handlebars.min.js"></script>
<script>console.log("handlebars加载完毕")</script>

<!--初始化用户并加载user.js-->
<script src="//cdn.jsdelivr.net/npm/leancloud-storage@3.14.0/dist/av-min.js"></script>
<script src="../js/initLeanCloud.js"></script>
<script src="../js/user.js"></script> <!--登录注册,登出,isCurrentUser-->
<script>console.log("User初始化完毕;")</script>

<!--使用jquery 加载navSideBar和userMenu到相关的placeholder中-->
<!--这个script执行完只是call了jquery.load,可能jquery.load要load的内容还没有加载完,此时后面加载的js,如果依赖于load的内容则可能会报错-->
<!--解决办法  $("#nav-placeholder").load("navSideBar.html", function(){ $.getScript("../js/navSideBar.js");}-->
<script>
  $("#nav-placeholder").load("navSideBar.html", function(){
      console.log("navSideBar加载完毕");
      $.getScript("../js/navSideBar.js", function(){
          console.log("setProfileData开始运行");
          setProfileData();
      });

  });
  $("#userMenu").load("userMenu.html", function(){
      console.log("userMenu加载完毕");
      $.getScript("../js/userMenu.js", function(){
          console.log("setupUserData开始运行");
          setupUserData();
      });
  });
</script>

<!--加载counter.js-->
<script src="../js/counter.js"></script> <!--活动倒计时,东汉年历,当前时间-->
</body>
</html>